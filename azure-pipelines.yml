# Xcode
# Build, test, and archive an Xcode workspace on macOS.
# Add steps that install certificates, test, sign, and distribute an app, save build artifacts, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/xcode

trigger:
- master

pool:
  vmImage: 'macos-latest'

steps:
- task: CmdLine@2
  inputs:
    script: |
 
      
      echo step0
      npm install -g npm
      echo step1  
      npm install titanium -g
      echo step2
      npm install -g git://github.com/appcelerator/titanium.git
      echo step3  
      ti sdk install 
      echo step4  
      ti sdk select 10.1.1.GA
      echo step5
       JavaToolInstaller@0
       inputs: versionSpec: "11" 
       jdkArchitectureOption: x64 
       jdkSourceOption: LocalDirectory 
       jdkFile: "/builds/openjdk-11.0.2_linux-x64_bin.tar.gz" 
       jdkDestinationDirectory: "/builds/binaries/externals" cleanDestinationDirectory: true
      echo step6
      ti build -p android -b